- id:      MC2RANGE
  name:    MC2RANGE
  usage:   MC2RANGE key x_min x_max y_min y_max count start
  params:
    items:
    - k: key
      v: name of the Morton Curve 2D object
    - k: x_min, x_max, y_min, y_max
      v: ranges of the coordinates of the stored point / ranges of the elements of the stored vector.
         Coordinates are uint32_t, Morton Curve index is uint64_t.
    - k: count
      v: result count
    - k: start
      v: specify starting key (for pagination in the similar way as in XNGET)

  return_type: array
  return:      list of key / values with "next" key at the end.
  version:     1.3.7.7
  complexity:  N * READ, were N âˆˆ { 1 .. 9 }
  mutable:     false
  compatible:  false
  description: |
    <p>Get all elements from Morton Curve 2D index *key*, that are in the "rectangle" *x_min* to *x_max*, *y_min* to *y_max*.</p>

    <p>This command is way slower than MC2RANGE.</p>

    <p><b>Example usage:</b></p>

    <p>Suppose we have a company with two offices in:</p>
    <ul>
      <li>LA  = 1</li>
      <li>NY = 2</li>
    </ul>

    <p>Each office have two kind of employees:</p>
    <ul>
      <li>sales   = 1</li>
      <li>support = 2</li>
    </ul>

    <pre class="x">
    mc2add users 0 1 1 john      <- adds user_id 0, john,   sales,   LA
    mc2add users 1 1 1 peter     <- adds user_id 1, peter,  sales,   LA
    mc2add users 2 2 1 jill      <- adds user_id 2, jill,   support, LA
    mc2add users 3 1 2 robert    <- adds user_id 3, robert, sales,   NY
    mc2add users 4 2 2 pola      <- adds user_id 4, pola,   support, NY
    mc2add users 5 2 2 pepe      <- adds user_id 5, pepe,   support, NY
    mc2point users 2 2 10000     <- gets all support from LA               (pola, pepe)
    mc2point users 2 2 10000     <- gets all support from LA               (pola, pepe)
    mc2range users 2 2 2 2 10000 <- gets all support from LA               (pola, pepe) - same as previous, but slower.
    mc2range users 2 2 1 2 10000 <- gets support from LA and NY            (jill, pola, pepe)
    mc2range users 1 2 2 2 10000 <- gets sales and support from LA         (robert, pola, pepe)
    mc2range users 1 2 1 2 10000 <- gets sales and support from LA and NY  (all)
    </pre>

  example:     |
    127.0.0.1:6379> MC2ADD users 0 1 1 john
    OK
    127.0.0.1:6379> MC2ADD users 1 1 1 peter
    OK
    127.0.0.1:6379> MC2ADD users 2 2 1 jill
    OK
    127.0.0.1:6379> MC2ADD users 3 1 2 robert
    OK
    127.0.0.1:6379> MC2ADD users 4 2 2 pola
    OK
    127.0.0.1:6379> MC2ADD users 5 2 2 pepe
    OK
    127.0.0.1:6379> MC2POINT users 2 2 10000
    1) "0000000002,0000000002,00000000"
    2) "pola"
    3) "0000000002,0000000002,00000001"
    4) "pepe"
    5) ""
    127.0.0.1:6379> MC2RANGE users 2 2 2 2 10000
    1) "0000000002,0000000002,00000000"
    2) "pola"
    3) "0000000002,0000000002,00000001"
    4) "pepe"
    5) ""
    127.0.0.1:6379> MC2RANGE users 2 2 1 2 10000
    1) "0000000002,0000000001,00000000"
    2) "jill"
    3) "0000000002,0000000002,00000001"
    4) "pola"
    5) "0000000002,0000000002,00000002"
    6) "pepe"
    7) ""
    127.0.0.1:6379> MC2RANGE users 1 2 2 2 10000
    1) "0000000001,0000000002,00000000"
    2) "robert"
    3) "0000000002,0000000002,00000001"
    4) "pola"
    5) "0000000002,0000000002,00000002"
    6) "pepe"
    7) ""
    127.0.0.1:6379> MC2RANGE users 1 2 1 2 10000
     1) "0000000001,0000000001,00000000"
     2) "john"
     3) "0000000001,0000000001,00000001"
     4) "peter"
     5) "0000000002,0000000001,00000002"
     6) "jill"
     7) "0000000001,0000000002,00000003"
     8) "robert"
     9) "0000000002,0000000002,00000004"
    10) "pola"
    11) "0000000002,0000000002,00000005"
    12) "pepe"
    13) ""

  sql:         |
    select
      key,
      val
    from
      table
    where
      x >= [x_min] and x <= [x_max] and
      y >= [y_min] and y <= [y_max]
    limit [count]

  see_also:
    items:
      - MC2POINT
      - MC2RANGENAIVE

