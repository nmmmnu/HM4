id:          TINDEX
name:        TRIGRAM INDEX

version:     1.3.14.2

description: |
  <p>This module provides a <b>multi-index object</b> that helps in storing and retrieving data efficiently for your application, using trigram index.</p>

  <p><b>How It Works:</b></p>

  <p><b>1. Storing entries with multiple sub-keys</b></p>
  <p>You can insert entries into a mindex object using <b>IXMADD</b>. Each entry can have a <i>sub_key</i>, <i>sort_key</i>, and multiple indexes (words). Example:</p>
  <ul>
    <li><i>IXMADD mykey John , "london,new york,köln,hi" x "Data for John"</i> - stores data under sub_key "John" with indexes "london" and "new york".</li>
  </ul>

  <p>Instead of storing "london" and "new york", this index stores trigrams for each word, e.g.</p>
  <table border="1" class="x">
    <tr><td>"london"	</td><td>"lon", "ond", "ndo", "don"			</td><td>&nbsp;</td></tr>
    <tr><td>"new york"	</td><td>"new", "ew_", "w_y", "_yo", "yor", "ork"	</td><td>The spaces are replaced with underscores for the representation. Real trigrams include spaces.</td>
    <tr><td>"köln"	</td><td>"köl", "öln"					</td><td>IXMADD is UTF8 aware, it tokenize the trigrams correctly.<br />IXMADD_BIN can be used for old style 8 bit encodings like CP1250, CP1251, KOI8 etc.</td></tr>
    <tr><td>"hi"	</td><td>"hi"						</td><td>If the word is not 3 symbols, it is stored in the index as is.</td></tr>
  </table>

  <p><b>2. Retrieving values</b></p>
  <p>You can get values from the mindex object using <b>IXMGET</b> or <b>IXMMGET</b>. Single or multiple sub-keys can be queried. Example:</p>
  <ul>
    <li><i>IXMGET mykey John</i> - retrieves the value for sub_key "John".</li>
    <li><i>IXMMGET mykey John Pete Ivan</i> - retrieves values for several sub_keys.</li>
  </ul>

  <p><b>3. Checking existence</b></p>
  <p>Use <b>IXMEXISTS</b> to check whether a value exists for a given sub_key. Example:</p>
  <ul>
    <li><i>IXMEXISTS mykey John</i> - returns 1 if exists, 0 otherwise.</li>
  </ul>

  <p><b>4. Removing entries</b></p>
  <p>Remove entries using <b>IXMREM</b> (aliases: IXMREMOVE, IXMDEL). Example:</p>
  <ul>
    <li><i>IXMREM mykey John</i> - deletes the entry for sub_key "John".</li>
  </ul>

  <p><b>5. Fetching ranges</b></p>
  <p>You can get a range of indexed results using <b>IXMRANGE</b>, <b>IXMRANGEFLEX</b>, and <b>IXMRANGESTRICT</b>. These commands allow pagination and filtering based on indexes. Example:</p>
  <ul>
    <li><i>IXMRANGEFLEX   mykey , 'london,new york' 100 ''</i> - returns results that match any of the given indexes.</li>
    <li><i>IXMRANGESTRICT mykey , 'london,new york' 100 ''</i> - returns results only if all indexes match.</li>
  </ul>

  <p><b>Tip:</b> This module can be used both for <b>tagging</b> and <b>full-text search</b>. Always add your data correctly before querying ranges to ensure accurate results.</p>

example_module:     |
  127.0.0.1:6379> IXTADD news 1000 , "George,Bush,spokes,in,the,senate" x "article 1000"
  (integer) 1
  127.0.0.1:6379> IXTADD news 1001 , "New,laptop,from,DELL" x "article 1001"
  (integer) 1
  127.0.0.1:6379> IXTADD news 1002 , "George,Bush,visits,France" x "article 1002"
  (integer) 1
  127.0.0.1:6379> IXTADD news 1003 , "Cold,weathe,soon" x "article 1003"
  (integer) 1
  127.0.0.1:6379> IXTADD news 1004 , "George,Michael,had,a,concert,with,Kate,Bush" x "article 1004"
  (integer) 1
  127.0.0.1:6379> IXTADD news 1005 , "Why,you,should,read,1984,from,George,Orwell" x "article 1005"
  (integer) 1
  127.0.0.1:6379> IXTRANGESTRICT news , "George,Bush" 20 ''
  1) "1000"
  2) "article 1000"
  3) "1002"
  4) "article 1002"
  5) "1004"
  6) "article 1004"
  7) ""
  127.0.0.1:6379> IXTRANGEFLEX news , "George,Bush" 20 ''
  1) "1000"
  2) "article 1000"
  3) "1004"
  4) "article 1004"
  5) "1002"
  6) "article 1002"
  7) "1005"
  8) "article 1005"
  9) ""
  127.0.0.1:6379> IXTRANGE news George 20 ''
  (error) ERR Not Implemented
  127.0.0.1:6379> IXTGETINDEXES news 1004
   1) "Bus"
   2) "Geo"
   3) "Kat"
   4) "Mic"
   5) "a"
   6) "ael"
   7) "ate"
   8) "cer"
   9) "cha"
  10) "con"
  11) "eor"
  12) "ert"
  13) "had"
  14) "hae"
  15) "ich"
  16) "ith"
  17) "nce"
  18) "onc"
  19) "org"
  20) "rge"
  21) "ush"
  22) "wit"
  23) "x"

see_also_module:
  items:
    - MINDEX
    - HINDEX
    - AUTOCOMPLETE
